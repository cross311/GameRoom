<div class="page-header page-header-main clearfix">
    <div class="page-header-text">
        <h3>Record New Game Result</h3>
    </div>
    <div class="page-header-controls">
    </div>
</div>
<div class="container" id="game-new">
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Choose A Game Type</h3>
            </div>
            <div class="panel-body">
                <div class="col-xs-6 col-md-3" ng-repeat="gameType in vm.gameTypes | orderBy: 'name'" ng-class="{'active': gameType.name === vm.newGameResult.gameType}">
                    <div class="thumbnail gameType">
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE5MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjcxLjUiIHk9IjEwMCIgc3R5bGU9ImZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMHB0O2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE5MngyMDA8L3RleHQ+PC9nPjwvc3ZnPg==" alt="...">
                        <div class="caption">
                            <h5 ng-bind="gameType.name"></h5>
                            <p><button type="button" class="btn btn-lg btn-primary choose" role="button" ng-click="vm.chooseGameType(gameType)">Choose</button></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Team 1</h3>
            </div>
            <div class="panel-body">
                <h4>Score:</h4>
                <div class="form-group">
                    <input type="number" class="input-lg" ng-model="vm.newGameResult.team1.score" />
                </div>

                <h4>Players:</h4>
                <div class="col-xs-6 col-md-3" ng-repeat="player in vm.players | orderBy: 'name'" ng-class="{'active': vm.newGameResult.team1.players.indexOf(player.id) > -1,'on-other-team': vm.newGameResult.team2.players.indexOf(player.id) > -1}">
                    <div class="thumbnail player">
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE5MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjcxLjUiIHk9IjEwMCIgc3R5bGU9ImZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMHB0O2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE5MngyMDA8L3RleHQ+PC9nPjwvc3ZnPg==" alt="...">
                        <div class="caption">
                            <h5 ng-bind="player.name"></h5>
                            <p><button type="button" class="btn btn-lg btn-primary choose" role="button" ng-click="vm.choosePlayer(vm.newGameResult.team1, player)">Choose</button></p>
                            <p><button type="button" class="btn btn-lg btn-warning remove" role="button" ng-click="vm.removePlayer(vm.newGameResult.team1, player)">Remove</button></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Team 2</h3>
            </div>
            <div class="panel-body">
                <h4>Score:</h4>
                <div class="form-group">
                    <input type="number" class="input-lg" ng-model="vm.newGameResult.team2.score" />
                </div>

                <h4>Players:</h4>
                <div class="col-xs-6 col-md-3" ng-repeat="player in vm.players | orderBy: 'name'" ng-class="{'active': vm.newGameResult.team2.players.indexOf(player.id) > -1,'on-other-team': vm.newGameResult.team1.players.indexOf(player.id) > -1}">
                    <div class="thumbnail player">
                        <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDE5MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjxkZWZzLz48cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI0VFRUVFRSIvPjxnPjx0ZXh0IHg9IjcxLjUiIHk9IjEwMCIgc3R5bGU9ImZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMHB0O2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE5MngyMDA8L3RleHQ+PC9nPjwvc3ZnPg==" alt="...">
                        <div class="caption">
                            <h5 ng-bind="player.name"></h5>
                            <p><button type="button" class="btn btn-lg btn-primary choose" role="button" ng-click="vm.choosePlayer(vm.newGameResult.team2, player)">Choose</button></p>
                            <p><button type="button" class="btn btn-lg btn-warning remove" role="button" ng-click="vm.removePlayer(vm.newGameResult.team2, player)">Remove</button></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-body">
                <button class="btn btn-lg btn-primary" ng-disabled="!vm.saveAllowed()" ng-click="vm.record(vm.newGameResult)">Save</button>
                <a ui-sref="games" class="btn btn-lg">Cancel</a>
            </div>
        </div>
    </div>
</div>
